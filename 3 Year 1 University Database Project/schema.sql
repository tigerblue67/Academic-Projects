CREATE TABLE IF NOT EXISTS `jcheah02`.`Grade` ( `GradeID` INT UNSIGNED NOT NULL AUTO_INCREMENT , `Title` VARCHAR(128) NOT NULL , `Code` VARCHAR(16) NOT NULL , `SpineMin` INT NOT NULL DEFAULT '1' , `SpineMax` INT NOT NULL DEFAULT '1' , PRIMARY KEY (`GradeID`), UNIQUE `Code` (`Code`)) ENGINE = InnoDB;
CREATE TABLE IF NOT EXISTS `jcheah02`.`Employee` ( `EmployeeID` BIGINT UNSIGNED NOT NULL AUTO_INCREMENT , `Title` VARCHAR(32) NULL , `FirstName` VARCHAR(255) NOT NULL , `LastName` VARCHAR(255) NOT NULL , `Email` VARCHAR(255) NULL , `Joined` DATE NULL , `Left` DATE NULL , `Current` BOOLEAN NOT NULL DEFAULT TRUE , `Phone` VARCHAR(32) NOT NULL , `GradeID` INT NOT NULL , `Manager` BIGINT, PRIMARY KEY (`EmployeeID`), INDEX `FirstName` (`FirstName`), INDEX `LastName` (`LastName`), INDEX `Current` (`Current`), INDEX `Manager` (`Manager`), UNIQUE `Email` (`Email`), FOREIGN KEY (`GradeID`) REFERENCES Grade(`GradeID`)) ENGINE = InnoDB;
CREATE TABLE IF NOT EXISTS `jcheah02`.`FileItem` ( `ItemID` BIGINT UNSIGNED NOT NULL AUTO_INCREMENT , `Title` VARCHAR(255) NOT NULL DEFAULT '""' , `Location` VARCHAR(255) NOT NULL DEFAULT '""' , `EmployeeID` BIGINT UNSIGNED NOT NULL , PRIMARY KEY (`ItemID`), FOREIGN KEY (`EmployeeID`) REFERENCES Employee(`EmployeeID`), INDEX `Title` (`Title`)) ENGINE = InnoDB;
CREATE TABLE IF NOT EXISTS `jcheah02`.`Skill` ( `SkillID` BIGINT UNSIGNED NOT NULL AUTO_INCREMENT , `Title` VARCHAR(255) NOT NULL , PRIMARY KEY (`SkillID`), UNIQUE `Title` (`Title`)) ENGINE = InnoDB;
CREATE TABLE IF NOT EXISTS `jcheah02`.`EmployeeSkill` ( `EmployeeID` BIGINT UNSIGNED NOT NULL , `SkillID` BIGINT UNSIGNED NOT NULL , `DateAchieved` DATE NULL , INDEX `EmployeeID` (`EmployeeID`), INDEX `SkillID` (`SkillID`), FOREIGN KEY (`EmployeeID`) REFERENCES Employee(`EmployeeID`), FOREIGN KEY (`SkillID`) REFERENCES Skill(`SkillID`)) ENGINE = InnoDB;
CREATE TABLE IF NOT EXISTS `jcheah02`.`Project` ( `ProjectID` BIGINT UNSIGNED NOT NULL AUTO_INCREMENT , `Title` VARCHAR(255) NOT NULL , `Notes` TEXT NULL , `Internal` BOOLEAN NOT NULL DEFAULT FALSE , `Sensitive` BOOLEAN NOT NULL DEFAULT FALSE , `Started` DATE NOT NULL , `Ended` DATE NULL , PRIMARY KEY (`ProjectID`), INDEX `Title` (`Title`)) ENGINE = InnoDB;
CREATE TABLE IF NOT EXISTS `jcheah02`.`Assignment` ( `ProjectID` BIGINT UNSIGNED NOT NULL , `EmployeeID` BIGINT UNSIGNED NOT NULL , INDEX `ProjectID` (`ProjectID`), INDEX `EmployeeID` (`EmployeeID`), FOREIGN KEY (`EmployeeID`) REFERENCES Employee(`EmployeeID`), FOREIGN KEY (`ProjectID`) REFERENCES Project(`ProjectID`)) ENGINE = InnoDB;
CREATE TABLE IF NOT EXISTS `jcheah02`.`Expense` ( `ExpenseID` BIGINT UNSIGNED NOT NULL AUTO_INCREMENT , `EmployeeID` BIGINT UNSIGNED NOT NULL , `ProjectID` BIGINT UNSIGNED NULL , `Description` VARCHAR(255) NOT NULL , `Amount` DOUBLE NOT NULL , `Paid` BOOLEAN NOT NULL DEFAULT FALSE , PRIMARY KEY (`ExpenseID`), INDEX `Description` (`Description`), INDEX `ProjectID` (`ProjectID`), INDEX `EmployeeID` (`EmployeeID`), FOREIGN KEY (`EmployeeID`) REFERENCES Employee(`EmployeeID`), FOREIGN KEY (`ProjectID`) REFERENCES Project(`ProjectID`)) ENGINE = InnoDB;
CREATE TABLE IF NOT EXISTS `jcheah02`.`Equipment` ( `EquipmentID` BIGINT UNSIGNED NOT NULL AUTO_INCREMENT , `Type` VARCHAR(255) NOT NULL , `Make` VARCHAR(255) NULL , `Model` VARCHAR(255) NULL , `Description` VARCHAR(255) NULL , `OperationNotes` TEXT NULL , `Damaged` BOOLEAN NOT NULL , PRIMARY KEY (`EquipmentID`), INDEX `Damaged` (`Damaged`), INDEX `Description` (`Description`), INDEX `Model` (`Model`), INDEX `Type` (`Type`)) ENGINE = InnoDB;
CREATE TABLE IF NOT EXISTS `jcheah02`.`Payslip` ( `PayslipID` BIGINT UNSIGNED NOT NULL AUTO_INCREMENT , `EmployeeID` BIGINT UNSIGNED NOT NULL , `Taxable` DOUBLE NOT NULL DEFAULT '0' , `NonTaxable` DOUBLE NOT NULL DEFAULT '0' , `IncomeTax` DOUBLE NOT NULL DEFAULT '0' , `NationalInsurance` DOUBLE NOT NULL DEFAULT '0' , `NetPay` DOUBLE NOT NULL DEFAULT '0' , `Payday` DATE NOT NULL , `TransferDay` DATE NOT NULL , `TransferRef` VARCHAR(32) NOT NULL , PRIMARY KEY (`PayslipID`), INDEX `EmployeeID` (`EmployeeID`), FOREIGN KEY (`EmployeeID`) REFERENCES Employee(`EmployeeID`)) ENGINE = InnoDB;
CREATE TABLE IF NOT EXISTS `jcheah02`.`Contract` ( `ContractID` BIGINT UNSIGNED NOT NULL AUTO_INCREMENT , `Title` VARCHAR(255) NOT NULL , `Start` DATE NOT NULL , `DueFinish` DATE NULL , `ActualFinish` DATE NULL , `EmployeeID` BIGINT UNSIGNED NOT NULL , PRIMARY KEY (`ContractID`), INDEX `Title` (`Title`), INDEX `EmployeeID` (`EmployeeID`), FOREIGN KEY (`EmployeeID`) REFERENCES Employee(`EmployeeID`)) ENGINE = InnoDB;
CREATE TABLE IF NOT EXISTS `jcheah02`.`EquipmentLoan` ( `EmployeeID` BIGINT UNSIGNED NOT NULL , `EquipmentID` BIGINT UNSIGNED NOT NULL , `StartDate` DATE NOT NULL , `EndDate` DATE NULL , `Current` BOOLEAN NOT NULL , `Notes` TEXT NULL , INDEX `EmployeeID` (`EmployeeID`), INDEX `EquipmentID` (`EquipmentID`), INDEX `StartDate` (`StartDate`), INDEX `EndDate` (`EndDate`), INDEX `Current` (`Current`), FOREIGN KEY (`EmployeeID`) REFERENCES Employee(`EmployeeID`), FOREIGN KEY (`EquipmentID`) REFERENCES Equipment(`EquipmentID`)) ENGINE = InnoDB;
